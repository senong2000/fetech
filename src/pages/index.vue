<script lang="ts" setup>

import { HomeCanvas } from '@/composables/canvas/home'

const router = useRouter()

const toPages = (route: string) => {
  router.push(route)
}

const canvas = ref<HTMLCanvasElement>();
const homeCanvas = ref<HomeCanvas>();

const homeCanvasInit = (canvas: HTMLCanvasElement) => {
  homeCanvas.value = new HomeCanvas(canvas);
  homeCanvas.value.initCavans();
}

onMounted(async () => {
  await nextTick();

  canvas.value = document.querySelector('#canvas') as HTMLCanvasElement;
  // homeCanvasInit(canvas.value)
})

</script>
<template>
  <div class="home">
    <div id="canvas"></div>
    <div class="name">
      <div class="text">
        <div class="main">
          <div>Senong</div>
          <div>Fetech</div>
          <div>坐忘道</div>
        </div>
      </div>
    </div>
    <div class="body">
      <div class="css" @click="toPages('/css')">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1"
            width="128" height="128" viewBox="0 0 128 128">
            <defs>
              <clipPath id="master_svg0_11_132">
                <rect x="0" y="0" width="128" height="128" rx="0" />
              </clipPath>
            </defs>
            <g clip-path="url(#master_svg0_11_132)">
              <g>
                <path
                  d="M19.643375,9.142578125L127.145375,9.142578125L108.146375,104.356278125L50.715375,123.428578125L0.859375,104.356278125L5.929085,78.925478125L27.145075,78.925478125L25.074275,89.425978125L55.218275,100.927678125L89.933675,89.425978125L94.788475,65.211178125L8.502805,65.211178125L12.644475,43.995178125L99.003375,43.995178125L101.718375,30.353978125L15.433075,30.353978125L19.643375,9.142578125Z"
                  fill="#3D3D3D" fill-opacity="1" />
              </g>
            </g>
          </svg>
        </div>
        <span>css</span>
      </div>
      <div class="utils" @click="toPages('/utils')">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1"
            width="128" height="128" viewBox="0 0 128 128">
            <defs>
              <clipPath id="master_svg0_11_255">
                <rect x="0" y="0" width="128" height="128" rx="0" />
              </clipPath>
            </defs>
            <g clip-path="url(#master_svg0_11_255)">
              <g>
                <path
                  d="M8.438926696777344,41.754010971069334L23.866126696777343,57.26911097106934L36.34402669677735,44.72011097106933L117.10992669677735,127.99951097106934C123.15992669677735,127.72751097106934,127.89292669677734,123.26751097106934,127.99992669677735,116.81951097106933L45.41892669677734,35.59361097106934L61.29992669677734,19.622100971069337L36.79782669677734,13.233510971069336L8.438926696777344,41.754010971069334Z"
                  fill="#2B3137" fill-opacity="1" />
              </g>
              <g>
                <path
                  d="M2.5403,115.451C-0.501747,119.609,-0.516944,122.698,0.952207,125.262C4.23076,128.796,8.16231,128.036,12.0689,125.262C14.9534,123.031,20.5948,114.803,22.9587,112.029C25.3226,109.254,30.0126,105.936,33.1679,104.499L33.1679,99.9358L34.3022,99.0232C45.143,110.374,57.1625,117.048,70.6016,118.645C82.5615,120.295,92.5968,117.584,100.549,111.116C110.889,103.743,117.11,94.9162,120.059,83.9643C121.491,78.4129,123.142,69.6572,120.74,56.3565Q117.491,43.2316,100.095,22.1319Q86.3606,5.81199,64.0223,0C82.8769,12.0909,95.1584,26.6093,101.229,41.0695C105.517,50.2149,108.955,59.7897,108.035,71.1872C107.8,79.9067,105.338,87.9836,96.6918,94.2317C90.3441,99.153,82.6762,102.467,72.6434,102.902C59.5748,103.87,48.0581,95.9864,37.9322,86.9305C33.7458,88.0376,30.0132,89.9468,27.4961,94.0036L22.7318,94.2317C21.9729,97.2428,17.6485,102.674,12.7495,106.781C11.3396,107.963,8.86712,109.22,7.07772,110.66C5.33676,112.06,4.18762,113.651,2.5403,115.451Z"
                  fill="#2B3137" fill-opacity="1" />
              </g>
            </g>
          </svg>
        </div>
        <span>utils</span>
      </div>
      <div class="ui" @click="toPages('/ui')">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1"
            width="128" height="128" viewBox="0 0 128 128">
            <defs>
              <clipPath id="master_svg0_11_136">
                <rect x="128" y="0" width="128" height="128" rx="0" />
              </clipPath>
            </defs>
            <g transform="matrix(-1,0,0,1,256,0)" clip-path="url(#master_svg0_11_136)">
              <g>
                <path
                  d="M189.0667,113.067C191.2,101.333,222.13330000000002,93.6,236.8,70.4C228.8,74.6667,218.9333,77.3333,208,77.3333C203.73329999999999,77.3333,199.73329999999999,77.0667,195.73329999999999,76.2667C185.8667,85.0667,163.4667,91.2,164.5333,110.667Q165.6,135.733,213.86669999999998,125.067Q186.6667,125.6,189.0667,113.067ZM221.86669999999998,96.5333C205.3333,105.333,194.6667,110.667,194.6667,114.667C194.6667,120,212,121.333,218.6667,120.533C226.9333,119.467,237.067,106.4,241.6,108.533C246.13299999999998,110.667,245.6,118.4,240.267,127.467C247.46699999999998,121.867,254.667,107.733,248,98.6667C241.333,89.8667,228.8,93.0667,221.86669999999998,96.5333ZM174.6667,74.4C173.8667,74.6667,173.0667,74.6667,172,74.6667C167.73329999999999,74.6667,163.73329999999999,72.8,161.0667,69.8667C160,78.6667,154.6667,86.4,146.9333,90.4C148.26670000000001,90.6667,149.3333,90.6667,150.6667,90.6667C157.0667,90.6667,162.9333,87.2,165.8667,81.8667C168,78.4,170.9333,75.7333,174.6667,74.4ZM171.73329999999999,46.4C166.4,48.5333,162.6667,53.8667,162.6667,60C162.6667,65.0667,166.9333,69.3333,172,69.3333C180,69.3333,186.6667,59.2,186.6667,46.6667C186.6667,41.6,185.6,36.8,183.73329999999999,33.0667C182.1333,38.9333,177.8667,44,171.73329999999999,46.4ZM142.4,41.3333C144.8,33.0667,157.6,30.1333,155.4667,18.6667C153.3333,30.9333,144.26670000000001,29.3333,140,39.4667C136,49.3333,141.3333,58.6667,136,67.4667C144,56,138.6667,54.9333,142.4,41.3333ZM192,46.6667C192,54.9333,189.3333,62.4,185.3333,67.4667C192,70.4,199.73329999999999,72,208,72C226.13330000000002,72,241.6,64.2667,247.733,53.3333C240,56.5333,228.53300000000002,58.6667,216,58.6667C233.6,58.6667,248.8,49.6,255.2,36.5333C250.933,32.8,243.2,29.8667,233.333,28C238.13299999999998,27.2,242.4,25.8667,246.13299999999998,24.5333C238.933,19.2,229.333,16,218.6667,16C206.13330000000002,16,194.6667,20.5333,186.9333,28C190.1333,32.8,192,39.4667,192,46.6667ZM145.8667,82.6667C144.8,80.8,145.3333,78.4,147.2,77.3333C153.0667,73.8667,157.0667,67.4667,157.0667,60C157.0667,51.4667,162.4,44.2667,169.8667,41.3333C170.1333,41.0667,170.4,41.0667,170.9333,40.8C171.4667,40.5333,172,40.2667,172.5333,40C172.8,39.7333,173.3333,39.4667,173.6,39.4667C174.1333,39.2,174.4,38.9333,174.9333,38.6667C175.2,38.4,175.73329999999999,38.1333,176,37.8667C176.5333,37.6,176.8,37.3333,177.3333,36.8C177.6,36.5333,177.8667,36.2667,178.4,36C178.6667,35.7333,179.2,35.2,179.4667,34.9333L179.73329999999999,34.6667C186.9333,26.9333,189.6,15.4667,185.3333,5.06667C184.8,3.73333,183.4667,0,182.4,0C179.73329999999999,0,182.4,6.13333,181.0667,15.4667C180.5333,18.9333,179.4667,22.1333,177.8667,24.5333C178.1333,22.6667,178.4,20.5333,178.4,18.6667C178.4,13.8667,176.26670000000001,9.06667,174.4,10.1333C175.73329999999999,17.6,173.3333,24.8,168.8,30.1333C168.26670000000001,30.6667,167.4667,31.4667,166.9333,32C166.6667,32.2667,166.6667,32.2667,166.4,32.5333C163.73329999999999,34.9333,160.26670000000001,36.5333,156.5333,37.6C150.9333,39.2,146.6667,44.5333,146.6667,50.6667C146.6667,58.6667,142.1333,65.8667,135.46667,69.3333C135.2,69.3333,134.93333,69.3333,134.66667,69.3333C130.93333,69.3333,128,72.2667,128,76C128,82.6667,133.33333,88,140,88C143.2,88,146.1333,86.6667,148.26670000000001,84.5333C147.2,84.2667,146.4,83.7333,145.8667,82.6667ZM150.4,51.7333C152.5333,48.5333,157.3333,46.6667,158.9333,48C153.3333,52,156,58.6667,150.6667,57.3333C149.0667,56.8,148.26670000000001,55.2,150.4,51.7333Z"
                  fill="#3D3D3D" fill-opacity="1" />
              </g>
            </g>
          </svg>
        </div>
        <span>component</span>
      </div>
      <div class="canvas" @click="toPages('/canvas')">
        <div class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1"
            width="128" height="128" viewBox="0 0 128 128">
            <defs>
              <clipPath id="master_svg0_11_152">
                <rect x="0" y="0" width="128" height="128" rx="0" />
              </clipPath>
            </defs>
            <g clip-path="url(#master_svg0_11_152)">
              <g>
                <path
                  d="M31.943591796875,83.894L31.867991796875,109.969C31.862691796875,110.704,31.065991796875,111.159,30.430691796875,110.79L7.736942796875,97.688C7.440263796875,97.5176,7.257121562875,97.2018,7.256591796875,96.8597L7.332237696875,70.7846C7.3374948968750004,70.05,8.134196796874999,69.5951,8.769511796875,69.9638L31.463291796875,83.0657C31.757691796875,83.2383,31.939991796875,83.5527,31.943591796875,83.894ZM32.030591796875,49.9706L31.954991796875,76.042C31.952191796875,76.7741,31.161791796875,77.232,30.525191796875,76.8703L7.831499796875,63.7609C7.534822796875,63.5905,7.351680796875,63.2747,7.351148596875,62.9325L7.426794796875,36.8612C7.425759796875,36.5202,7.607018796875,36.2046,7.902109796875,36.0336C8.197200796875,35.8627,8.561151796875,35.8624,8.856501796875,36.0329L31.550191796875,49.1423C31.852991796875,49.3028,32.038991796874996,49.6206,32.030591796875,49.9631L32.030591796875,49.9706ZM61.460591796875,100.937L61.384991796875,127.008C61.385191796875,127.351,61.202491796875,127.667,60.905891796875,127.838C60.609191796875,128.009,60.243791796875,128.009,59.947691796875,127.837L37.253891796874996,114.727C36.957291796875,114.557,36.774091796875,114.241,36.773591796874996,113.899L36.849191796875004,87.8276C36.848191796875,87.4865,37.029491796875,87.1709,37.324591796875,87C37.619691796875,86.829,37.983591796875004,86.8287,38.278891796875,86.9993L60.972691796875,100.109C61.267591796875,100.277,61.450591796875,100.59,61.452991796875,100.929L61.460591796875,100.937ZM96.026891796875,83.894C96.025391796875,83.5533,96.209491796875,83.2388,96.507291796875,83.0732L119.200591796875,69.9601C119.497591796875,69.7882,119.862591796875,69.7876,120.159591796875,69.9586C120.455591796875,70.1295,120.638591796875,70.446,120.638591796875,70.7884L120.713591796875,96.8635C120.711591796875,97.2021,120.530591796875,97.5143,120.237591796875,97.6842L97.543591796875,110.797C97.247491796875,110.969,96.882091796875,110.97,96.585491796875,110.799C96.288791796875,110.628,96.106091796875,110.312,96.106391796875,109.969L96.026891796875,83.894ZM95.939991796875,49.9706C95.933191796875,49.6276,96.116591796875,49.3089,96.416491796875,49.1423L119.110591796875,36.0329C119.745591796875,35.6641,120.542591796875,36.1191,120.547591796875,36.8537L120.623591796875,62.9288C120.622591796875,63.2709,120.439591796875,63.5867,120.142591796875,63.7571L97.449091796875,76.8665C97.152991796875,77.0384,96.787591796875,77.0389,96.490891796875,76.868C96.194291796875,76.697,96.011591796875,76.3806,96.011791796875,76.0382L95.939991796875,49.9706ZM66.51369179687501,100.937C66.509491796875,100.595,66.692191796875,100.277,66.990291796875,100.109L89.684091796875,86.9993C90.319391796875,86.6305,91.116091796875,87.0855,91.121291796875,87.82L91.196991796875,113.895C91.197191796875,114.236,91.015591796875,114.552,90.720391796875,114.723L68.026691796875,127.833C67.73029179687501,128.007,67.363491796875,128.008,67.065591796875,127.837C66.767791796875,127.666,66.584591796875,127.348,66.58559179687501,127.005L66.51369179687501,100.937ZM64.603691796875,27.9955C64.308691796875,28.1705,63.941791796875,28.1705,63.646791796875,27.9955L40.952991796875,14.8861C40.320291796875,14.5168,40.320291796875,13.6026,40.952991796875,13.2333L63.468991796875,0.127619C63.765291796875,-0.0425396,64.12959179687499,-0.0425396,64.42589179687499,0.127619L87.119691796875,13.237C87.417191796875,13.4076,87.600691796875,13.7243,87.600691796875,14.0672C87.600691796875,14.4102,87.417191796875,14.7269,87.119691796875,14.8975L64.603691796875,27.9955ZM35.279591796874996,45.0461C34.983491796875,45.217,34.618691796875,45.217,34.322691796875,45.0461L11.628921796875,31.9367C10.996221796875,31.5674,10.996221796875,30.6531,11.628921796875,30.2838L34.167591796875,17.182C34.462091796875,17.0054,34.829991796875,17.0054,35.124491796875,17.182L57.818291796875,30.2914C58.450991796875,30.6607,58.450991796875,31.5749,57.818291796875,31.9442L35.279591796874996,45.0461ZM94.120691796875,45.0461C93.824591796875,45.217,93.459791796875,45.217,93.163791796875,45.0461L70.46999179687501,31.9367C69.83729179687501,31.5674,69.83729179687501,30.6531,70.46999179687501,30.2838L93.008691796875,17.182C93.303191796875,17.0054,93.671091796875,17.0054,93.965591796875,17.182L116.659591796875,30.2914C117.291591796875,30.6607,117.291591796875,31.5749,116.659591796875,31.9442L94.120691796875,45.0461ZM91.204491796875,49.9631L91.128891796875,76.0344C91.129091796875,76.3768,90.946391796875,76.6932,90.649791796875,76.8642C90.353091796875,77.0351,89.987691796875,77.0346,89.691591796875,76.8627L66.997891796875,63.7533C66.70119179687501,63.5829,66.51799179687501,63.2671,66.51749179687499,62.925L66.593191796875,36.8537C66.592891796875,36.5113,66.775591796875,36.1948,67.07229179687499,36.0239C67.368891796875,35.8529,67.734291796875,35.8535,68.030391796875,36.0253L90.724191796875,49.1347C91.019091796875,49.3032,91.202091796875,49.6159,91.204491796875,49.9555L91.204491796875,49.9631ZM36.784891796875,49.9631C36.783091796875,49.6203,36.966891796875004,49.3034,37.265291796875005,49.1348L59.958991796875,36.0253C60.594291796875,35.6566,61.390991796875,36.1115,61.396291796875,36.8461L61.471991796875,62.9212C61.471391796875,63.2633,61.288291796875,63.5791,60.991591796875,63.7495L38.297891796875,76.8589C38.001691796875,77.0308,37.636291796875,77.0314,37.339691796875,76.8604C37.042991796875,76.6894,36.860291796875,76.373,36.860591796875,76.0306L36.784891796875,49.9631ZM64.603691796875,95.6342C64.306391796875,95.8006,63.943991796875,95.8006,63.646791796875,95.6342L40.952991796875,82.5248C40.320291796875,82.1555,40.320291796875,81.2413,40.952991796875,80.8719L63.468991796875,67.7777C63.763491796875,67.6011,64.131391796875,67.6011,64.42589179687499,67.7777L87.119691796875,80.8871C87.752391796875,81.2564,87.752391796875,82.1706,87.119691796875,82.5399L64.603691796875,95.6342Z"
                  fill="#3D3D3D" fill-opacity="1" />
              </g>
            </g>
          </svg>
        </div>
        <span>canvas</span>
      </div>
    </div>
  </div>
</template>
<style lang="scss">
.home {
  width: 100vw;
  height: 100vh;

  #canvas {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .name {
    position: absolute;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    pointer-events: none;

    .text {
      position: relative;
      font-size: 5rem;
      border: 1px solid black;
      width: 30rem;
      height: 12rem;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 999999rem;
      background-color: white;
      pointer-events: all;
      z-index: 1000;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;

      .main {
        width: 100%;
        height: 5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        transform-origin: center;
        /* 变形原点为中心 */
        transform-style: preserve-3d;
        /* 保持3D变换 */
        transform: rotateX(0);

        div {
          position: absolute;
          backface-visibility: hidden;

          &:nth-child(1) {
            transform: rotateX(0deg);
          }

          &:nth-child(2) {
            transform: rotateX(120deg);
          }

          &:nth-child(3) {
            transform: rotateX(240deg);
          }
        }
      }
    }

    &::after {
      content: "";
      position: absolute;
      width: 33rem;
      height: 15rem;
      border-radius: 99999rem;
      display: block;
      pointer-events: all;
    }

  }

  .body {
    width: 100%;
    height: 100%;
    display: flex;
    flex-wrap: wrap;
    flex-shrink: 1;

    .css,
    .utils,
    .ui,
    .canvas {
      position: relative;
      width: calc(50vw - 1rem);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      margin: .5rem;
      border-width: 1px;
      border-radius: 1rem;

      .icon {
        position: absolute;
        z-index: 998;

        svg path {
          transition: .3s ease-out;
          opacity: 0.2;
        }
      }

      span {
        position: absolute;
        transition: .3s ease-out;
        opacity: 1;
        z-index: 999;
      }

      &:hover {
        .icon {
          z-index: 999;

          svg path {
            opacity: 1;

          }
        }

        span {
          opacity: 0.2;
          z-index: 998;
        }
      }

      span {
        position: absolute;
        font-size: 3rem;
        text-transform: uppercase;

        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      &::after {
        content: "";
        position: absolute;
        background-color: white;
        width: 16rem;
        height: 7rem;
        z-index: 999;
        border-style: solid;
        border-color: black;
      }
    }

    .css {
      position: relative;
      // border-width: 0 1px 1px 0;
      border-style: solid;
      border-color: black;

      &:hover {}

      &::after {
        right: -1px;
        bottom: -1px;
        border-width: 1px 0 0 1px;
        border-top-left-radius: 9999rem;
      }
    }

    .utils {
      // border-width: 0 0 1px 1px;
      border-style: solid;
      border-color: black;

      &:hover {}

      &::after {
        left: -1px;
        bottom: -1px;
        border-width: 1px 1px 0 0;
        border-top-right-radius: 9999rem;
      }
    }

    .ui {
      // border-width: 1px 1px 0 0;
      border-style: solid;
      border-color: black;

      &:hover {
        svg path {
          // fill: blue;
        }
      }

      &::after {
        right: -1px;
        top: -1px;
        border-width: 0 0 1px 1px;
        border-bottom-left-radius: 9999rem;
      }
    }

    .canvas {
      // border-width: 1px 0 0 1px;
      border-style: solid;
      border-color: black;

      &:hover {}

      &::after {
        left: -1px;
        top: -1px;
        border-width: 0 1px 1px 0;
        border-bottom-right-radius: 9999rem;
      }
    }
  }
}
</style>
